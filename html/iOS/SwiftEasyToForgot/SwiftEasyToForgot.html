<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Swifté‚£äº›æè¿‡å´åˆå®¹æ˜“å¿˜è®°çš„ä¸œä¸œ</title>
    <link rel="icon" href="../../../Source/icon-img.jpeg">
    <link rel="stylesheet" href="../../../CSS/ArticleDetail.css">
    <link rel="stylesheet" href="../../../Vendor/bootstrap-3.3.7-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../../../font-awesome-4.7.0/css/font-awesome.css">
</head>
<body>

<div class="labels">

    <span class="label label-success">swiftSwifté‚£äº›æè¿‡å´åˆå®¹æ˜“å¿˜è®°çš„ä¸œä¸œ</span>
</div>

<div class="contentBgDiv">
    <p class="title">Swifté‚£äº›æè¿‡å´åˆå®¹æ˜“å¿˜è®°çš„ä¸œä¸œ</p>
    <hr>

    <ul>
        <li><a href="http://special.csdncms.csdn.net/the-swift-programming-language-in-chinese/Introduction.shtml">The Swift Programming Language ä¸­æ–‡ç‰ˆ</a> </li>
        <li><a href="https://swiftdoc.org/">Swiftæºåº“æ–‡æ¡£</a></li>
        <li><a href="https://github.com/apple/swift">Swiftæºç </a></li>
        <li><a href="https://blog.csdn.net/youshaoduo/article/details/77967391">Swift4æ–°ç‰¹æ€§å‚è€ƒé“¾æ¥</a> </li>
        <li><a href="#mark">swiftä¸­çš„mark</a> </li>
        <li><a href="#swift">swift è°ƒç”¨ocåº“</a> </li>
        <li><a href="#swiftInOc">ocå·¥ç¨‹ä½¿ç”¨swiftåº“</a></li>
        <li><a href="#try">call can throw but is mot marked with try...</a> </li>
        <li><a href="#ocInSwift">swifté¡¹ç›®ä¸­ä½¿ç”¨ocæ¡†æ¶ä¸æç¤ºæ–¹æ³•</a> </li>
        <li><a href="#stringTransfer">å…³äºå˜é‡ç±»å‹</a> </li>
        <li><a href="#class">è·å–å¯¹è±¡ç±»å‹</a> </li>
        <li><a href="#after">swiftçš„å»¶æ—¶æ“ä½œ</a> </li>
        <li><a href="#mean">$0ã€$1çš„å®é™…å«ä¹‰</a> </li>
        <li><a href="#lazy">swiftä¸­çš„æ•°ç»„ä¸æ‡’åŠ è½½</a> </li>
        <li><a href="#error1">Property 'self.backgroundLabBgColor' not initialized at super.init - Delegate</a> </li>
        <li><a href="#objc">@objc,@nonobjcä¸@objcMembers</a> </li>
        <li><a href="#closure">swiftä¸­çš„é—­åŒ…</a> </li>
        <li><a href="#setget">swiftä¸­çš„setä¸get</a> </li>
        <li><a href="#range">swiftä¸­çš„Range</a> </li>
        <li><a href="#pi">swiftä¸­çš„M_PI</a> </li>
        <li><a href="#weakStrongDanceInSwift">weak-Strong-In-Swift</a></li>
        <li><a href="#AnyAnyObjectAnyClass">Any ä¸ AnyObject AnyClassçš„åŒºåˆ«</a></li>
        <li><a href="#as">Swiftä¸­as, as!, as? çš„åŒºåˆ«</a> </li>
        <li><a href="#Optional">Swiftä¸­çš„Optional</a> </li>
        <li><a href="#ClassOrStruct">Swiftä¸­çš„Classä¸Struct</a> </li>
        <li><a href="#SwitchInSwift">Swiftä¸­çš„Switch</a></li>
        <li><a href="#SearchAddressInSwift">Swift4æŸ¥çœ‹å¯¹è±¡åœ°å€</a></li>
        <li><a href="#Int">Swiftä¸­çš„Int,Int8,Int16,Int32,Int64</a></li>
        <li><a href="#genericClass">Swiftä¸­çš„æ³›å‹</a></li>
        <li><a href="#typealiasAndassociatedtype">Swiftä¸­typealiasä¸associatedtypeçš„åŒºåˆ«</a></li>
        <li><a href="#PATs">Swiftä¸­çš„PATs</a></li>
        <li><a href="#ArrayInSwift">Swiftä¸­çš„æ•°ç»„</a></li>
        <li><a href="#arrFilter">ç»™Arrayæ‰©å±•ä¸€ä¸ªè‡ªå®šä¹‰çš„è¿‡æ»¤å™¨</a></li>
        <li><a href="#dicFilter">ç»™Dictionaryæ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨</a></li>
        <li><a href="#arrReduce">ç»™Arrayæ·»åŠ è‡ªå®šä¹‰reduce</a></li>
        <li><a href="#dicReduce">ç»™Dictionaryæ·»åŠ è‡ªå®šä¹‰reduce</a> </li>
        <li><a href="#arrMap">ç»™Arrayæ·»åŠ è‡ªå®šä¹‰map</a></li>
        <li><a href="#dicMap">ç»™Dictionaryæ·»åŠ è‡ªå®šä¹‰map</a> </li>
        <li><a href="#swiftVersion">åˆ¤æ–­Swiftç‰ˆæœ¬</a> </li>
        <li><a href="#discardableResult">ä½¿ç”¨@discardableResultæ¥å¿½ç•¥å‡½æ•°è¿”å›å€¼</a> </li>
        <li><a href="#defer">Swiftä¸­çš„defer(å»¶è¿Ÿæ‰§è¡Œ)</a> </li>
    </ul>

    <p class="smallTitle" id="swift"><b>swift è°ƒç”¨ocåº“</b></p>


    <p class="contents">
        1.ã€swiftå·¥ç¨‹é‡Œæ–°å»ºHeader file, åç§°ï¼šé¡¹ç›®åç§°-Bridging-Header.h
    </p>

    <a target="_blank"
       href="http://upload-images.jianshu.io/upload_images/3251504-28538c944470898a.png?imageMogr2/auto-orient/strip"><img
            src="http://upload-images.jianshu.io/upload_images/3251504-28538c944470898a.png?imageMogr2/auto-orient/strip"></a>

    <p class="contents">
        2ã€è®¾ç½®è·¯å¾„ target -> building settings -> swift compiler -> objective-c bridging header
    </p>

    <a target="_blank"
       href="http://upload-images.jianshu.io/upload_images/3251504-219154da7df8daaf.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/jpg"><img
            src="http://upload-images.jianshu.io/upload_images/3251504-219154da7df8daaf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240/format/jpg"></a>


    <p class="contents">
        3ã€å¯¼å…¥åº“ æ³¨æ„å¯¼å…¥æ–¹å¼
    </p>

    <a target="_blank"
       href="http://upload-images.jianshu.io/upload_images/3251504-cacc0ac39568debc.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/jpg"><img
            src="http://upload-images.jianshu.io/upload_images/3251504-cacc0ac39568debc.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/jpg"></a>

    <p class="smallTitle" id="swiftInOc"><b>ocå·¥ç¨‹ä½¿ç”¨swiftåº“</b></p>

    <br>

    <p class="contents">
        åœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹æ·»åŠ ï¼šé¡¹ç›®åç§°-Swift.h
    </p>
    <p class="contents">å¦‚æœocä¸­è°ƒç”¨ä¸äº†swiftæ–¹æ³•,è¯·åœ¨å‰é¢åŠ ä¸Š@objc</p>
    <p class="contents">åŸå› :</p>
    <pre>
            Objective-Cå’ŒSwiftåœ¨åº•å±‚ä½¿ç”¨çš„æ˜¯ä¸¤å¥—å®Œå…¨ä¸åŒçš„æœºåˆ¶ï¼ŒCocoaä¸­çš„Objective-Cå¯¹è±¡æ˜¯åŸºäºè¿è¡Œæ—¶çš„ï¼Œ
        å®ƒä»éª¨å­é‡Œéµå¾ªäº†KVCï¼ˆKey-Value Codingï¼Œé€šè¿‡ç±»ä¼¼å­—å…¸çš„æ–¹å¼å­˜å‚¨å¯¹è±¡ä¿¡æ¯ï¼‰ä»¥åŠåŠ¨æ€æ´¾å‘
        ï¼ˆDynamic Dispatchï¼Œåœ¨è¿è¡Œè°ƒç”¨æ—¶å†å†³å®šå®é™…è°ƒç”¨çš„å…·ä½“å®ç°ï¼‰ã€‚

            è€ŒSwiftä¸ºäº†è¿½æ±‚æ€§èƒ½ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€è¦çš„è¯ï¼Œæ˜¯ä¸ä¼šåœ¨è¿è¡Œæ—¶å†æ¥å†³å®šè¿™äº›çš„ã€‚
        ä¹Ÿå°±æ˜¯è¯´ï¼ŒSwiftç±»å‹çš„æˆå‘˜æˆ–è€…æ–¹æ³•åœ¨ç¼–è¯‘æ—¶å°±å·²ç»å†³å®šï¼Œè€Œè¿è¡Œæ—¶ä¾¿ä¸å†éœ€è¦ç»è¿‡ä¸€æ¬¡æŸ¥æ‰¾ï¼Œ
        è€Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

            æ˜¾è€Œæ˜“è§ï¼Œè¿™å¸¦æ¥çš„é—®é¢˜æ˜¯å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨Objective-Cçš„ä»£ç æˆ–è€…ç‰¹æ€§æ¥è°ƒç”¨çº¯Swiftçš„ç±»å‹æ—¶å€™ï¼Œ
        æˆ‘ä»¬ä¼šå› ä¸ºæ‰¾ä¸åˆ°æ‰€éœ€è¦çš„è¿™äº›è¿è¡Œæ—¶ä¿¡æ¯ï¼Œè€Œå¯¼è‡´å¤±è´¥ã€‚è§£å†³èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨Swiftç±»å‹æ–‡ä»¶ä¸­ï¼Œ
        æˆ‘ä»¬å¯ä»¥å°†éœ€è¦æš´éœ²ç»™Objective-Cä½¿ç”¨çš„ä»»ä½•åœ°æ–¹ï¼ˆåŒ…æ‹¬ç±»ï¼Œå±æ€§å’Œæ–¹æ³•ç­‰ï¼‰çš„å£°æ˜å‰é¢åŠ ä¸Š
        @objcä¿®é¥°ç¬¦ã€‚æ³¨æ„è¿™ä¸ªæ­¥éª¤åªéœ€è¦å¯¹é‚£äº›ä¸æ˜¯ç»§æ‰¿è‡ªNSObjectçš„ç±»å‹è¿›è¡Œï¼Œ
        å¦‚æœä½ ç”¨Swiftå†™çš„classæ˜¯ç»§æ‰¿è‡ªNSObjectçš„è¯ï¼ŒSwiftä¼šé»˜è®¤è‡ªåŠ¨ä¸ºæ‰€æœ‰çš„éprivateçš„ç±»å’Œæˆå‘˜åŠ ä¸Š@objcã€‚
        è¿™å°±æ˜¯è¯´ï¼Œå¯¹ä¸€ä¸ªNSObjectçš„å­ç±»ï¼Œä½ åªéœ€è¦å¯¼å…¥ç›¸åº”çš„å¤´æ–‡ä»¶å°±å¯ä»¥åœ¨Objective-Cé‡Œä½¿ç”¨è¿™ä¸ªç±»äº†ã€‚

            æ·»åŠ @objcä¿®é¥°ç¬¦å¹¶ä¸æ„å‘³ç€è¿™ä¸ªæ–¹æ³•æˆ–è€…å±æ€§ä¼šå˜æˆåŠ¨æ€æ´¾å‘ï¼ŒSwiftä¾ç„¶å¯èƒ½ä¼šå°†å…¶ä¼˜åŒ–ä¸ºé™æ€è°ƒç”¨ã€‚
        å¦‚æœä½ éœ€è¦å’ŒObjective-Cé‡ŒåŠ¨æ€è°ƒç”¨æ—¶ç›¸åŒçš„è¿è¡Œæ—¶ç‰¹æ€§çš„è¯ï¼Œä½ éœ€è¦ä½¿ç”¨çš„ä¿®é¥°ç¬¦æ˜¯dynamicã€‚
        ä¸€èˆ¬æƒ…å†µä¸‹åœ¨åšAppå¼€å‘æ—¶åº”è¯¥ç”¨ä¸ä¸Šï¼Œä½†æ˜¯åœ¨æ–½å±•ä¸€äº›åƒåŠ¨æ€æ›¿æ¢æ–¹æ³•æˆ–è€…è¿è¡Œæ—¶å†å†³å®šå®ç°è¿™æ ·çš„
        "é»‘é­”æ³•" çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°dynamicä¿®é¥°ç¬¦äº†ã€‚
    </pre>

    <p class="contents" id="objc"><b>@objc,@nonobjc,@objcMembers</b></p>
    <pre>
          1ï¼Œè¿‡å»çš„æƒ…å†µï¼ˆSwift3ï¼‰
        ï¼ˆ1ï¼‰åœ¨é¡¹ç›®ä¸­å¦‚æœæƒ³æŠŠ Swift å†™çš„ API æš´éœ²ç»™ Objective-C è°ƒç”¨ï¼Œéœ€è¦å¢åŠ  @objcã€‚
            åœ¨ Swift 3 ä¸­ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å¾ˆå¤šåœ°æ–¹ä¸ºæˆ‘ä»¬éšå¼çš„åŠ ä¸Š @objcã€‚
        ï¼ˆ2ï¼‰æ¯”å¦‚å½“ä¸€ä¸ªç±»ç»§æ‰¿äº NSObjectï¼Œé‚£ä¹ˆè¿™ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½ä¼šè¢«éšå¼çš„åŠ ä¸Š @objcã€‚
        class MyClass: NSObject {
            func print() { } // åŒ…å«éšå¼çš„ @objc
            func show() { } // åŒ…å«éšå¼çš„ @objc
        }
        ï¼ˆ3ï¼‰ä½†è¿™æ ·åšå¾ˆå¤šå¹¶ä¸éœ€è¦æš´éœ²ç»™ Objective-C ä¹Ÿè¢«åŠ ä¸Šäº† @objcã€‚è€Œå¤§é‡ @objc ä¼šå¯¼è‡´äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°çš„å¢åŠ ã€‚

        2ï¼Œç°åœ¨çš„æƒ…å†µï¼ˆSwift4ï¼‰
        ï¼ˆ1ï¼‰åœ¨ Swift 4 ä¸­éšå¼ @objc è‡ªåŠ¨æ¨æ–­åªä¼šå‘ç”Ÿåœ¨ä¸‹é¢è¿™ç§å¿…é¡»è¦ä½¿ç”¨ @objc çš„æƒ…å†µï¼š
            è¦†ç›–çˆ¶ç±»çš„ Objective-C æ–¹æ³•
            ç¬¦åˆä¸€ä¸ª Objective-C çš„åè®®

        ï¼ˆ2ï¼‰å¤§å¤šæ•°åœ°æ–¹å¿…é¡»æ‰‹å·¥æ˜¾ç¤ºåœ°åŠ ä¸Š @objcã€‚
        class MyClass: NSObject {
            @objc func print() { } //æ˜¾ç¤ºçš„åŠ ä¸Š @objc
            @objc func show() { } //æ˜¾ç¤ºçš„åŠ ä¸Š @objc
        }

        ï¼ˆ3ï¼‰å¦‚æœåœ¨ç±»å‰åŠ ä¸Š @objcMembersï¼Œé‚£ä¹ˆå®ƒã€å®ƒçš„å­ç±»ã€æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¼šéšå¼çš„åŠ ä¸Š @objcã€‚
        @objcMembers
        class MyClass: NSObject {
            func print() { } //åŒ…å«éšå¼çš„ @objc
            func show() { } //åŒ…å«éšå¼çš„ @objc
        }

        extension MyClass {
            func baz() { } //åŒ…å«éšå¼çš„ @objc
        }

        ï¼ˆ4ï¼‰å¦‚æœåœ¨æ‰©å±•ï¼ˆextensionï¼‰å‰åŠ ä¸Š @objcï¼Œé‚£ä¹ˆè¯¥æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¼šéšå¼çš„åŠ ä¸Š @objcã€‚
        class SwiftClass { }

        @objc extension SwiftClass {
            func foo() { } //åŒ…å«éšå¼çš„ @objc
            func bar() { } //åŒ…å«éšå¼çš„ @objc
        }

        ï¼ˆ5ï¼‰å¦‚æœåœ¨æ‰©å±•ï¼ˆextensionï¼‰å‰åŠ ä¸Š @nonobjcï¼Œé‚£ä¹ˆè¯¥æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¸ä¼šéšå¼çš„åŠ ä¸Š @objcã€‚
        @objcMembers
        class MyClass : NSObject {
            func wibble() { } //åŒ…å«éšå¼çš„ @objc
        }

        @nonobjc extension MyClass {
            func wobble() { } //ä¸ä¼šåŒ…å«éšå¼çš„ @objc
        }

    </pre>

    <p class="smallTitle" id="try"><b>call can throw but is mot marked with try...</b></p>

    <br>

    <a target="_blank"
       href="http://upload-images.jianshu.io/upload_images/3251504-74e7b9d11c100885.png?imageMogr2/auto-orient/strip"><img
            src="http://upload-images.jianshu.io/upload_images/3251504-74e7b9d11c100885.png?imageMogr2/auto-orient/strip"></a>
    <p class="contents">é”™è¯¯ç¤ºæ„å›¾1</p>

    <a target="_blank"
       href="http://upload-images.jianshu.io/upload_images/3251504-5d55359915853406.png?imageMogr2/auto-orient/strip"><img
            src="http://upload-images.jianshu.io/upload_images/3251504-5d55359915853406.png?imageMogr2/auto-orient/strip"></a>
    <p class="contents">æ²¡æœ‰ä½¿ç”¨try.png</p>

    <p class="contents">
        <b>è§£å†³:</b>
    </p>

    <a target="_blank"
       href="http://upload-images.jianshu.io/upload_images/3251504-272f9efe48bb346a.png?imageMogr2/auto-orient/strip"><img
            src="http://upload-images.jianshu.io/upload_images/3251504-272f9efe48bb346a.png?imageMogr2/auto-orient/strip"></a>
    <p class="contents">do catch+try.png</p>

    <p class="smallTitle" id="ocInSwift"><b>swifté¡¹ç›®ä¸­ä½¿ç”¨ocæ¡†æ¶ä¸æç¤ºæ–¹æ³•</b></p>

    <br>

    <p class="contents">
        åœ¨swiftå·¥ç¨‹ä¸­ä½¿ç”¨ocæ¡†æ¶æ—¶ï¼šæ­£ç¡®åœ¨é¡¹ç›®å-Bridging-Headeré‡Œå¯¼å…¥äº†æ¡†æ¶ï¼Œ
        å¦‚#import &lt;KissXML/KissXML.h&gt;,#import &lt;XMLReader/XMLReader.h&gt;è¿˜æ˜¯ä¸æç¤ºæ–¹æ³•ï¼Œ
        å¯ä»¥è¿™æ ·ï¼š
    </p>

    <div class="codeAero">

        <p class="contents">
            1.ç¬¬ä¸€æ­¥é¦–å…ˆåˆ é™¤ æ­¤ç›®å½•ä¸‹çš„è¿™ä¸ªæ–‡ä»¶å¤¹ï¼š~/Library/Developer/Xcode/DerivedData<br><br>

            2.é‡å¯xcodeè¯•è¯•ï¼Œå¦‚æœè¿˜ä¸æç¤ºï¼Œåˆ é™¤æ­¤ç›®å½•ä¸‹çš„è¿™ä¸ªæ–‡ä»¶ï¼š~/Library/Caches/com.apple.dt.Xcode<br><br>

            3.é‡æ–°è¿è¡Œxcodeå°±å¥½äº†<br><br>
        </p>
    </div>

    <p class="contents">
        å¦‚æœè¿˜æ˜¯æ²¡ç”¨ï¼šåœ¨ä½¿ç”¨çš„åœ°æ–¹å†å¯¼å…¥ä¸€æ¬¡ï¼Œå¦‚ï¼šimport XMLReader
    </p>

    <p class="smallTitle" id="stringTransfer"><b>å…³äºå˜é‡ç±»å‹</b></p>

    <br>

    <p class="contents">
        Striing -ã€‹int éœ€è¦ä½¿ç”¨NSStringæ¥è¿‡æ¸¡ï¼ŒtoIntä¸è¡Œäº† æ³¨æ„å˜é‡çš„ç±»å‹å¯ä»¥å¾ˆå¤§ç¨‹åº¦æé«˜ç¼–è¯‘é€Ÿåº¦ ç‰¹åˆ«æ˜¯ç±»ä¼¼a/b/c
    </p>

    <p class="contents">
        å¦‚ï¼š<br>
        print(NSString(string:s).intValue+1)<br>
    </p>

    <p class="smallTitle" id="class"><b>è·å–å¯¹è±¡ç±»å‹</b></p>
    <pre>
        1.
        é™æ€å˜é‡ object_getClass(&lt;#T##obj: AnyObject!##AnyObject!#&gt;)
        tableView.register(object_getClass(UITableViewCell()), forCellReuseIdentifier: "hehe")

        2. ä¸‡ç‰©çš†å¯¹è±¡
        UITableViewCell.self
        Int.self
        1.self
    </pre>

    <p class="smallTitle" id="after"><b>swiftçš„å»¶æ—¶æ“ä½œ</b></p>
    <pre>
        //å»¶æ—¶1ç§’æ‰§è¡Œ
        let time: TimeInterval = 1.0
        DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + time) {
          //code
          print("1 ç§’åè¾“å‡º")
        }
    </pre>

    <p class="smallTitle" id="mean"><b>$0ã€$1çš„å®é™…å«ä¹‰</b></p>
    <p class="contents">
        swiftè‡ªåŠ¨ä¸ºé—­åŒ…æä¾›å‚æ•°åç¼©å†™åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡$0å’Œ$1ç­‰æ¥è¡¨ç¤ºé—­åŒ…ä¸­çš„ç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¯¹åº”çš„å‚æ•°ç±»å‹ä¼šæ ¹æ®å‡½æ•°ç±»å‹æ¥è¿›è¡Œåˆ¤æ–­ã€‚å¦‚ä¸‹ä»£ç ï¼š
    </p>
    <pre>
        let nums = [3,7,90,1,2,3,4,5,6,7]

        let sortNums = nums.sorted(by: { (a, b) -> Bool in

            return a < b
        })

        let sortNums2 = nums.sorted(by: {$0 < $1})

        print("sortNums = \(sortNums)\nsortNums2=\(sortNums2)")
    </pre>
    <p class="contents">
        è¾“å‡ºç»“æœ:
    </p>
    <pre>
        sortNums = [1, 2, 3, 3, 4, 5, 6, 7, 7, 90]
        sortNums2=[1, 2, 3, 3, 4, 5, 6, 7, 7, 90]
    </pre>

    <p class="smallTitle" id="mark"><b>swiftä¸­çš„mark</b></p>
    <pre>
        oc:#pragma mark -è¯´æ˜æ–‡å­—
        swift:  // MARK: - è¯´æ˜æ–‡å­—,å¸¦åˆ†å‰²çº¿
                // MARK: è¯´æ˜æ–‡å­—,ä¸å¸¦åˆ†å‰²çº¿
    </pre>

    <p class="smallTitle" id="lazy"><b>swiftä¸­çš„æ•°ç»„ä¸æ‡’åŠ è½½</b></p>
    <p class="contents">
        ä½¿ç”¨letä¿®é¥°çš„æ•°ç»„æ˜¯ä¸å¯å˜æ•°ç»„:let array2 : [NSObject] = ["age", 18]<br>
        ä½¿ç”¨varä¿®é¥°çš„æ•°ç»„æ˜¯å¯å˜æ•°ç»„:var array1 : [String] = [String]()
    </p>
    <pre>
        var datas:[String?] = {

            () -> [String?] in

            var dataSources:[String?] = [String?]()

            for i:Int in 0...5 {

                    dataSources.append(String.init(format: "ç¬¬%ldä¸ª", i))
            }

            return  dataSources
        }()
    </pre>

    <p class="smallTitle" id="error1">
        <b>Property 'self.backgroundLabBgColor' not initialized at super.init - Delegate</b></p>
    <p class="contents">
        <pre>
        è§£å†³:
            1.å°†backgroundLabBgColorè®¾ç½®ä¸ºoptional:<a href="https://stackoverflow.com/questions/36635896/property-self-mydelegate-not-initialized-at-super-init-delegate">stackoverflow</a>
            2.åœ¨initä¸­åˆå§‹åŒ–
        </pre>
    </p>

    <p class="smallTitle" id="closure">
        <b>swiftä¸­çš„é—­åŒ…</b>
    </p>
    <pre>
        ç®€å•å®ä¾‹:
        å£°æ˜:
            // æ›´æ”¹å¼€å…³çŠ¶æ€
            typealias ChangeSwiStateClosure = (Bool?)->(Void)
            var changeSwiStateClosure:ChangeSwiStateClosure?

            // MARK: - å¼€å…³äº‹ä»¶
            func changeSwiState(swi:UISwitch) -> Void {

                changeSwiStateClosure!(swi.isOn)
            }

        è°ƒç”¨:
            // åˆ‡æ¢æ¶ˆæ¯æ¨é€å¼€å…³çŠ¶æ€
            cell?.changeSwiStateClosure = {(state:Bool?) ->Void in

                // ç½‘ç»œæ›´æ”¹æ¶ˆæ¯æ¨é€å¼€å…³çŠ¶æ€
                self.changeMsgPushStateByNet(Switch: state, GuideId: userInfoModel.guideId, AccessToken: userInfoModel.accessToken)
            }
    </pre>

    <p class="contents" id="setget">
        <b>swiftä¸­çš„setä¸get</b>
    </p>
    <pre>
        å½“è°ƒç”¨setæ–¹æ³•çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šæœ‰ä¸€ä¸ªnewValueï¼Œ
        å°†newVauleèµ‹å€¼ç»™æˆ‘ä»¬å®šä¹‰çš„å˜é‡ï¼Œç„¶åä»getæ–¹æ³•é‡Œé¢è¿”å›å»ã€‚

        //å®šä¹‰ä¸€ä¸ªå˜é‡
        var _a:String?

        var a:String?{

            set{

                _a = newValue
            }

            <b>//å¦‚æœåªä»å†™getæ–¹æ³•ï¼Œä¼šé»˜è®¤ä¸ºreadOnly</b>
            get{

                return _a
            }
        }

    </pre>
    <p class="contents">
        <b>å¦å¤–:willSetå’ŒdidSetè¿™ä¸¤ä¸ªç‰¹æ€§æ¥ç›‘è§†å±æ€§çš„é™¤åˆå§‹åŒ–ä¹‹å¤–çš„å±æ€§å€¼å˜åŒ–
            å’ŒOCç›¸æ¯”è¾ƒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨didSeté‡Œé¢æ‰§è¡Œä¸€äº›æ”¹å˜UIçš„æ“ä½œã€‚
        </b>
    </p>
    <pre>

        var _a:String?

        var a:String?{

            <b>å¦‚æœå®ç°willSetè§‚å¯Ÿï¼Œåˆ™å°†ä¼ é€’ä¸€ä¸ªæ–°çš„å¸¸é‡å±æ€§å€¼ï¼Œå¦‚æœæ²¡æœ‰ä¸ºå…¶æŒ‡å®šåç§°ï¼Œåˆ™åˆé»˜è®¤åç§°â€œnewValueâ€
                ç›¸ä¼¼çš„ï¼Œå¦‚æœå®ç°didSetè§‚å¯Ÿï¼Œå°†ä¼ é€’æ—§çš„å¸¸é‡å±æ€§å€¼ï¼Œä½ å¯ä»¥ä¸ºå…¶æŒ‡å®šåç§°ï¼Œå¦åˆ™é»˜è®¤ä¸ºâ€œoldValueâ€</b>
            willSet{

                print("willSet = \(String(describing: newValue))")
            }

            <b>//è®¾ç½®æŒ‡å®šåç§°</b>
            willSet(nnewValue){

                print("willSet = \(a ?? 0)") //willSet = 0
                print("nnew = \(nnewValue ?? 0)") //nnew = 11

            }

            <b>//å¦‚æœåœ¨didSeté‡Œé¢ç»™è¿™ä¸ªå€¼å†é‡æ–°èµ‹å€¼ï¼Œé‚£ä¹ˆæœ€ç»ˆå€¼æ˜¯è¿™ä¸ªæ–°å€¼</b>
            didSet{

                print("didSet = \(String(describing: a))") //didSet = 11
                print("old = \(oldValue ?? 0)") //old = 0

                a = "hehe"
            }
        }

        scratchCard.a = 11
        print("a = \(scratchCard.a ?? 0)")

        è¾“å‡º:
        willSet = Optional("haha")
        didSet = Optional("haha")
        a = Optional("hehe")
    </pre>

    <p class="contents" id="range"><b>swiftä¸­çš„Range</b></p>
    <pre>

        //1...self.screenShotArr.count-1
        self.screenShotArr.removeSubrange(1...self.screenShotArr.count-1)
    </pre>
    <br>

    <p class="contents" id="pi"><b>swiftä¸­çš„M_PI</b></p>
    <pre>
        M_PI_4ç›¸å½“äº:CGFloat.pi/4; Double.pi; Float.pi;
    </pre>

    <p class="contents" id="weakStrongDanceInSwift"><b>Weak-Strong-In-Swift</b></p>
    <pre>
        åœ¨OCä¸­å¤„ç†å¾ªç¯å¼•ç”¨ï¼š
        å¼±å¼•ç”¨ä¸€æ¬¡:__weak typeof(self) weakSelf = self
        é˜²æ­¢å­çº¿ç¨‹ä¸­è°ƒç”¨blockå¯èƒ½å­˜åœ¨selfæå‰é‡Šæ”¾è¿›è¡Œä¸€æ¬¡retainï¼š__strong(å¯ç¼ºçœ é»˜è®¤) typeof(self) strongSelf = self

        ä¾‹å­ï¼š
        __weak typeof(self) weakSelf = self;
        [self doSomeBlockJob:^{
            __strong typeof(weakSelf) strongSelf = weakSelf;
            if (strongSelf) {
                ...
            }
        }];


        åœ¨Swiftä¸­å¤„ç†é—­åŒ…å¾ªç¯å¼•ç”¨ï¼š
        å¼±å¼•ç”¨ä¸€æ¬¡,ä½¿ç”¨æ•è·åˆ—è¡¨[weak self]ï¼š
        self.closure = {[weak self]() in
            self.doSomeThing()

            //é˜²æ­¢é—­åŒ…åœ¨å­çº¿ç¨‹è°ƒç”¨æ—¶ï¼Œå­˜åœ¨æå‰é‡Šæ”¾çš„æƒ…å†µï¼Œè¿›è¡Œä¸€æ¬¡åˆ¤æ–­:
            guard let `self` = self else {return}

            `self`.doSomeThing()
        }

        ä¾‹å­ï¼š
        @IBAction func toThird(_ sender: Any) {

            self.third.back = {[weak self]() in

                guard let `self` = self else {
                    return
                }

                `self`.test()
            }

            self.navigationController?.pushViewController(third, animated: true)
        }

    </pre>

    <p class="contents" id="AnyAnyObjectAnyClass"><b>Swiftä¸­Anyä¸AnyObjectã€AnyClassçš„åŒºåˆ«</b></p>
    <pre>
        1. å®šä¹‰ï¼š
        AnyObjectï¼šå¯ä»¥ä»£è¡¨ä»»ä½•classç±»å‹çš„å®ä¾‹ï¼›
        Anyï¼šå¯ä»¥ä»£è¡¨ä»»ä½•ç±»å‹ï¼Œç”šè‡³åŒ…æ‹¬æ–¹æ³•(func)ç±»å‹ã€‚

        2.
        public typealias Any = protocol<>
        public protocol AnyObject{}
        public typealias AnyClass = Swift.AnyObject.Type

        3.
        a.AnyObjectæ˜¯Anyçš„å­é›†
        b.æ‰€æœ‰ç”¨classå…³é”®å­—å®šä¹‰çš„å¯¹è±¡å°±æ˜¯AnyObject
        c.æ‰€æœ‰ä¸æ˜¯ç”¨classå…³é”®å­—å®šä¹‰çš„å¯¹è±¡å°±ä¸æ˜¯AnyObjectï¼Œè€Œæ˜¯Any
        d.AnyClassæ˜¯AnyObjectçš„åˆ«å, Anyæ˜¯ä¸€ä¸ªç©ºåè®®é›†åˆçš„åˆ«å, ä¸€ä¸ªä»»ä½•ç±»å‹éƒ½éµå®ˆçš„åè®®ï¼ŒAnyObjectæ˜¯ä¸€ä¸ªæ²¡æœ‰å£°æ˜ä»»ä½•æˆå‘˜çš„ç©ºåè®®
        e.Anyå’ŒAnyObjectéƒ½æ˜¯åè®®è€Œä¸”ï¼Œå¹¶ä¸”ä»Appleæä¾›çš„æ³¨é‡Šä¸­å¯ä»¥çœ‹å‡ºæ‰€æœ‰çš„type(ç±»å‹)éƒ½éšå¼å®ç°äº†Anyåè®®ï¼Œæ‰€æœ‰çš„classéƒ½éšå¼å®ç°äº†AnyObjectåè®®ã€‚

        ä¾‹å­ï¼š
        1.Anyæ­¤å¤„Alamofireè¯·æ±‚çš„é”®å€¼å¯¹å€¼å¯ä»¥æ˜¯ä»»æ„å€¼
        parameters = ["appId":"123456", "timestamp":203428394820,
                "version":"1.0", "appAuthToken":"7D8SF7D8VS8987D67687",
                "bizContent":["pageStart":1, "pageSize": "10","isTrue":true]] as [String : Any]

        2.AnyObjectï¼šç”±äºvalueæ˜¯JSONç±»å‹çš„å®ä¾‹ï¼Œcomplicate(value as AnyObject)ï¼Œ å°±æ˜¯å°†valueä½œä¸ºAnyObjectä¼ å€¼å‡ºå»
        typealias Complicate = (AnyObject) ->Void
        //è¯·æ±‚å›è°ƒ
        var complicate : Complicate?

        func request(type:RequestType, URLString:String, parameters:[String : AnyObject], complicate:@escaping Complicate) -> Void {
                CK().maskShow()
                switch type {
                case .requestTypeGet:
                    Alamofire.request(URLString, method: .get, parameters: parameters, encoding: JSONEncoding.default, headers: nil)
                        .validate()
                        .responseJSON { response in
                            CK().dismissMask()

                            switch response.result{
                            case .success:
                                if let value = response.result.value{
                                    //æŠŠå¾—åˆ°çš„JSONæ•°æ®è½¬ä¸ºå­—å…¸
                                    complicate(value as AnyObject)
                                }
                            case .failure: ()
                                DMCAlertCenter.default().postAlert(withMessage: "ç½‘ç»œè¯·æ±‚å¤±è´¥")
                                return
                            }
                    }

    </pre>

    <p class="contents" id="as"><b>Swiftä¸­as, as!, as? çš„åŒºåˆ«</b></p>
    <pre>

        1.as:ä»…å½“ä¸€ä¸ªå€¼çš„ç±»å‹åœ¨è¿è¡Œæ—¶ï¼ˆruntimeï¼‰å’Œasæ¨¡å¼å³è¾¹çš„æŒ‡å®šç±»å‹ä¸€è‡´ - æˆ–è€…æ˜¯è¯¥ç±»å‹çš„å­ç±» - çš„æƒ…å†µä¸‹ï¼Œ
        æ‰ä¼šåŒ¹é…è¿™ä¸ªå€¼ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œè¢«åŒ¹é…çš„å€¼çš„ç±»å‹è¢«è½¬æ¢æˆasæ¨¡å¼å·¦è¾¹æŒ‡å®šçš„æ¨¡å¼ã€‚
        class Father{}
        class son{}

        let s = son()
        s as Father


        2. as! çˆ¶ç±»å¼ºè½¬å­ç±»
        class Father{}
        class son{}

        let f = Father()
        //ä¸åŠ ï¼ç¼–è¯‘æŠ¥é”™ è½¬æ¢å¤±è´¥ ä¼šå´©æºƒ
        f as! son


        3. as? è½¬æ¢å¤±è´¥è¿”å›nil
        class Father{}
        class son{}

        let f = Father()
        //ä¸åŠ ï¼ç¼–è¯‘æŠ¥é”™ è½¬æ¢å¤±è´¥ ä¼šè¿”å›nil
        f asï¼Ÿ son

        è¡¥å……ï¼šå˜é‡å£°æ˜æ—¶ï¼ä¸ï¼Ÿçš„åŒºåˆ«
        a. var a:Int? å¯é€‰ç±»å‹ åè¾¹ä¸ä¸€å®šæœ‰å€¼ æ²¡èµ‹å€¼æ—¶è¿”å›nil  èµ‹å€¼æ—¶è¿”å›Optional(xx)
        b. var b:Int! éšå¼æ‹†åŒ… è¡¨ç¤ºåé¢ä¸€å®šä¸ä¼šnil  æ²¡èµ‹å€¼æ—¶è¿”å›none  èµ‹å€¼æ—¶è¿”å›some(xx)
        c. Int?ä¸Int! éƒ½é¢å¤–éœ€è¦1ä¸ªå­—èŠ‚æ¥ä¿å­˜ä¿¡æ¯

        ä¾‹å­ï¼š
            var a:Int? = 1
            var b:Int! = 2

            print(a)
            print(b)

            print(MemoryLayout&lt;Int?&gt;.self)
            print(MemoryLayout&lt;Int!&gt;.self)

            print("size = \(MemoryLayout&lt;Int?&gt;.size) align = \(MemoryLayout&lt;Int?&gt;.alignment) stride= \(MemoryLayout&lt;Int?&gt;.stride)")
            print("size = \(MemoryLayout&lt;Int!&gt;.size) align = \(MemoryLayout&lt;Int!&gt;.alignment) stride= \(MemoryLayout&lt;Int!&gt;.stride)")

            //è¾“å‡ºç»“æœ
            //æ²¡æœ‰èµ‹å€¼ï¼š
            nil
            none
            //èµ‹å€¼ï¼š
            Optional(1)
            some(2)
            MemoryLayout&lt;Optional&lt;Int&gt;&gt;
            MemoryLayout&lt;ImplicitlyUnwrappedOptional&lt;Int&gt;&gt;
            size = 9 align = 8 stride= 16
            size = 9 align = 8 stride= 16

    </pre>


    <p class="contents" id="Optional"><b>Swiftä¸­çš„Optional</b></p>
    <pre>

        OCä¸­åˆ†ä¸ºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œ åŸºæœ¬ç±»å‹å¦‚NSInteger, NSString
        Swiftä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ å¦‚1.description

        OCä¸­å¯ä»¥å‘nilå‘é€æ¶ˆæ¯ Swiftä¸­è¿™æ˜¯ä¸¥æ ¼ä¸å…è®¸çš„ æ‰€ä»¥å¦‚ä½•ä¿è¯ç¨‹åºä¸å‘ç©ºæŒ‡é’ˆè°ƒç”¨æ–¹æ³• å¯é€‰ç±»å‹å°±äº§ç”Ÿäº†

        1.Optionalæœ¬è´¨ï¼šæšä¸¾
        public enum Optional&lt;Wrapped&gt; : _Reflectable, NilLiteralConvertible {
            case None
            case Some(Wrapped)

            <b>//è¿™ä¸ªæ„é€ æ–¹æ³•çš„å­˜åœ¨ä½¿å¾—Int, Int?ï¼Ÿ, nilç­‰éƒ½å¯ä»¥å¤åˆ¶ç»™ç±»å‹ä¸ºIntï¼Ÿçš„å˜é‡</b>
            public init(_ some: Wrapped)

            public func map&lt;U&gt;(_ transform: (Wrapped) throws -> U) rethrows -> U?
            public func flatMap&lt;U&gt;(_ transform: (Wrapped) throws -> U?) rethrows -> U?
        }

        2.Optionalçš„åµŒå¥—
        let a: Int? = 1
        let b: Int?? = a
        let c: Int??? = b

        let a: Int? = 1
        let b: Int?? = a
        let c: Int??? = b

        //è¾“å‡º:
        a = Optional(1)
        b = Optional(Optional(1))
        c = Optional(Optional(Optional(1)))

        //ä½¿ç”¨fr v -R a/b/cæŸ¥çœ‹å†…å­˜æ„æˆ
        (Swift.Optional&lt;Swift.Int&gt;) a = some {
          some = {
            _value = 1
          }
        }
        (Swift.Optional&lt;Swift.Optional&gt;Swift.Int&gt;&gt;) b = some {
          some = some {
            some = {
              _value = 1
            }
          }
        }
        (Swift.Optional&lt;Swift.Optional&lt;Swift.Optional&lt;Swift.Int&gt;&gt;&gt;) c = some {
          some = some {
            some = some {
              some = {
                _value = 1
              }
            }
          }
        }

        3.é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼š
            let a: Int? = nil
            let b: Int?? = a
            let c: Int??? = b
            let d: Int??? = nil

            //è¾“å‡ºç»“æœ
            a = nil
            b = Optional(nil)
            c = Optional(Optional(nil))
            d = nil

            if let _ = b {
                print("b is not nil")
            }else{
                print("b is nil")
            }

            //è¾“å‡ºç»“æœï¼š b is not nil

            var dict:[String:String?] = [:]

            //å¯¹åº”è¾“å‡ºï¼š
            [:]

            dict = ["key":"value"]
            dict["key"] = nil
            dict

            //å¯¹åº”è¾“å‡ºï¼š
            ["key": "value"]
            nil
            [:]

            dict = ["key":"value"]
            dict["key"] = Optional&lt;String&gt;.none
            dict

            //å¯¹åº”è¾“å‡ºï¼š
            ["key": "value"]
            nil
            ["key": nil]

            dict = ["key":"value"]
            dict["key"] = Optional&lt;Optional&lt;String&gt;&gt;.none  //åŒé‡Optionalæ‰ç½®æ­£ç¡®åˆ é™¤Dictionaryä¸­çš„å…ƒç´ 
            dict["key"]
            dict

            //å¯¹åº”è¾“å‡ºï¼š
            ["key": "value"]
            nil
            nil
            [:]

            var s1:String? = nil
            dict = ["key":"value"]
            dict["key"] = s1
            dict["key"]
            dict

            //å¯¹åº”è¾“å‡º
            nil
            ["key":"value"]
            nil
            nil
            ["key":nil]

            var s2:String?? = nil    //åŒé‡Optionalæ‰ç½®æ­£ç¡®åˆ é™¤Dictionaryä¸­çš„å…ƒç´ 
            dict = ["key":"value"]
            dict["key"] = s2
            dict["key"]
            dict

            //å¯¹åº”è¾“å‡º
            nil
            ["key":"value"]
            nil
            nil
            [:]

            //åŸå› ï¼šæŸ¥çœ‹èµ‹å€¼æ—¶Dictionary[index]æºç ï¼š
            public subscript(key: Key) -> Value? {
              get {
                return _variantStorage.maybeGet(key)
              }
              set(newValue) {
                if let x = newValue {
                  // FIXME(performance): this loads and discards the old value.
                  _variantStorage.updateValue(x, forKey: key)
                }
                else {
                  // FIXME(performance): this loads and discards the old value.
                  removeValueForKey(key)
                }
              }
            }

            è®¾ç½®å®ƒçš„å€¼ï¼Œå®ƒæ¥å—çš„æ˜¯ä¸€ä¸ª String? ç±»å‹çš„å‚æ•°ã€‚
            è€Œä¸Šè¾¹ä¾‹å­ä¸­çš„ value ç±»å‹ä¸º String?ï¼Œæ‰€ä»¥æ­£å¸¸æƒ…å†µä¸‹å®ƒéœ€è¦çš„æ˜¯ä¸€ä¸ª String?? ç±»å‹çš„å‚æ•°

            Dictionaryå’ŒArrayä¸åŒçš„æ˜¯ï¼Œ[]ç”¨åœ¨Dictionaryçš„æ—¶å€™ï¼Œä¼šè¿”å›ä¸€ä¸ªOptionalç±»å‹æ¥ç¡®ä¿è¿™ç§å½¢å¼çš„è®¿é—®å®‰å…¨ã€‚å› æ­¤è®¿é—®ä¸å­˜åœ¨çš„keyï¼Œå¹¶ä¸ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚
            Swfitä¸ºDictionaryçš„ç´¢å¼•æŸ¥è¯¢æ“ä½œï¼Œæä¾›äº†optionalä¿æŠ¤ã€‚è¦ä¹ˆå¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œè¦ä¹ˆé€šè¿‡nilè¡¨ç¤ºè¦æŸ¥è¯¢çš„å†…å®¹ä¸å­˜åœ¨ã€‚
    </pre>

    <p class="contents" id="ClassOrStruct"><b>Swiftä¸­çš„Classä¸Struct</b></p>
    <pre>
        Swiftä¸­æœ‰ä¸‰å¤§ç±»å‹ï¼šclass:å¼•ç”¨ç±»å‹reference Struct/Enum:å€¼ç±»å‹ value type

        åŒºåˆ«:
        1. åˆå§‹åŒ–æ–¹æ³•ä¸åŒï¼š
        struct ss1{

            var a:Int!
        }

        // structå¯ç›´æ¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–property
        let sss1:ss1 = ss1(a: 1)

        class ss2{

            var a:Int?
        }

        // classä¸å¯ç›´æ¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–property
        let sss2:ss2 = ss2()
        sss2.a = 1

        2.structæ›´æ–¹ä¾¿åœ¨LLDBä¸­æŸ¥çœ‹æ•°æ®ï¼Œclassè¦æ±‚å®ç°description

        3.å˜é‡èµ‹å€¼æ–¹å¼ä¸åŒï¼š
            structæ˜¯å€¼æ‹·è´ï¼Œä¼šcopyä¸€ä»½ç»™æ–°çš„å˜é‡ï¼Œ classåªæ˜¯åœ°å€å¼•ç”¨

            ä¾‹å­ï¼š
            let a = A(a: 1)
            let b = age

            print("a = \(Unmanaged.passUnretained(a as AnyObject).toOpaque())")
            print("b = \(Unmanaged.passUnretained(b as AnyObject).toOpaque())")

            let c = B()
            c.a = 1
            let d = c
            print("c = \(Unmanaged.passUnretained(c as AnyObject).toOpaque())")
            print("d = \(Unmanaged.passUnretained(d as AnyObject).toOpaque())")

            //è¾“å‡º:
            a = 0x000060c00004e040
            b = 0xb000000000000013
            c = 0x000060c00002a980
            d = 0x000060c00002a980

        4.structä¸­åœ¨å®ä¾‹åˆå§‹åŒ–æ–¹æ³•ä¸­éœ€è¦åŠ ä¸Šmutatingæ‰èƒ½æ”¹å˜å¤–éƒ¨å˜é‡ï¼Œclassä¸ç”¨

        5.ç»§æ‰¿çš„åŒºåˆ«

        6.structæ¯”classè½»é‡ï¼Œ structå˜é‡ä¿å­˜åœ¨æ ˆä¸Šï¼Œclasså˜é‡ä¿å­˜åœ¨å †ä¸Šï¼Œstructç±»å‹åœ¨ç¼–è¯‘æ—¶å·²ç»ç¡®å®šï¼Œclassåœ¨è¿è¡Œæ—¶ç¡®å®šï¼Œ
            å› æ­¤structèƒ½åŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚

        7.å®‰å…¨æ€§
            strcutæ˜¯å¼•ç”¨å®‰å…¨çš„ï¼Œä¸é‡‡ç”¨å¼•ç”¨è®¡æ•°

        8.å†…å­˜æ³„éœ²
            structä¸å­˜åœ¨å› ä¸ºå¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²é—®é¢˜

        9.çº¿ç¨‹å®‰å…¨
            structæ˜¯çº¿ç¨‹å®‰å…¨çš„

        10.OCä¸Swiftçš„äº’ç›¸è°ƒç”¨
            å½“ä½ çš„é¡¹ç›®æ˜¯OCä¸Swiftæ··ç¼–æ—¶ï¼Œstructä¸èƒ½åœ¨OCä¸­è°ƒç”¨

        11.åºåˆ—åŒ–
            Structä¸èƒ½åƒç±»ä¸€æ ·è¢«åºåˆ—åŒ–æˆNSDataå¯¹è±¡


    </pre>

    <p class="contents" id="SwitchInSwift"><b>Swiftä¸­çš„Switch</b></p>
    <pre>
        1.åœ¨Swiftè¯­è¨€ä¸­çš„Switchä¸­ï¼Œä½ å¯ä»¥åŒ¹é…æ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå…ƒç»„ï¼Œå­—ç¬¦åŒºé—´ç­‰
        Swiftä¸­çš„Switchæ˜¯ä¸éœ€è¦ä½¿ç”¨breakè¯­å¥çš„ï¼Œå› ä¸ºå…¶é»˜è®¤æ‰§è¡Œå®ŒåŒ¹é…é¡¹å°±è·³å‡ºSwitchè¯­å¥äº†

        ä¾‹å­ï¼š
        //åŒ¹é…åŒºé—´ æ¯”å†™ifè¦å¥½ğŸ‘Œ
        let a:(Int,Int) = (50,50)
        switch a {
            case (0..<50, 0..<50):
                print("0..<50")
            case (50..<100, 50..<100):
                print("50..<100")
            default:
                print(100)
        }

        2.Swiftä¸­çš„Switchè¯­å¥ï¼Œå¯ä»¥è¿›è¡Œæ•°å€¼ç»‘å®šï¼Œä»¥åŠåœ¨caseä¸­ä½¿ç”¨whereå­å¥

            let a:String = "ABC"
            switch a {
                case let temp where temp > "A":

                    print("> A")
                case let temp where temp > "D":

                    print("> D")
                default:
                    print("default")
            }

        3.fallthrough:åŠ äº†fallthroughåï¼Œä¼šç›´æ¥è¿è¡Œã€ç´§è·Ÿçš„åä¸€ä¸ªã€‘caseæˆ–defaultè¯­å¥ï¼Œä¸è®ºæ¡ä»¶æ˜¯å¦æ»¡è¶³éƒ½ä¼šæ‰§è¡Œ
            fallthroughå’Œbreakå¯ä»¥ä¾æ®ä¸¤è€…çš„é¡ºåºå¯ä»¥ç›¸äº’æ‰“æ–­æ‰§è¡Œ

            var age = 1
            switch age {
            case 0..<10:
                print("å°æœ‹å‹")

                fallthrough
            case 10..<100:
                print("æˆå¹´äºº")

                fallthrough
            default:
                print("")
            }

            //è¾“å‡º:
                å°æœ‹å‹
                æˆå¹´äºº


    </pre>

    <p class="contents" id="SearchAddressInSwift"><b>Swift4æŸ¥çœ‹å¯¹è±¡åœ°å€</b></p>
    <pre>

        Swiftçš„&æ“ä½œå’ŒCè¯­è¨€ä¸åŒï¼ŒSwiftä¸å…è®¸ç›´æ¥è·å–å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±ä¼šç¼–è¯‘ä¸é€šè¿‡ã€‚
        var a:Int = 1
        &a

        //æŸ¥è¯¢Swiftä¸­å¯¹è±¡çš„åœ°å€
        Unmanaged.passUnretained(å¯¹è±¡ as AnyObject).toOpaque()
    </pre>

    <p class="contents" id="Int"><b>Swiftä¸­çš„Int,Int8,Int16,Int32,Int64</b></p>
    <img src="../../../Source/swift/cswiftbasictype.png">
    <pre>
        Int16, ç­‰äºshort, å 2ä¸ªå­—èŠ‚. -32768 32767
        Int32, ç­‰äºint, å 4ä¸ªå­—èŠ‚. -2147483648 2147483647
        Int64, ç­‰äºlong, å 8ä¸ªå­—èŠ‚. -9223372036854775808 9223372036854775807
        Int8 ,å ç”¨1ä¸ªå­—èŠ‚
        Intçš„é»˜è®¤å€¼æ˜¯64bit 8å­—èŠ‚
    </pre>


    <p class="contents" id="genericClass"><b>Swiftä¸­çš„æ³›å‹</b></p>
    <pre>

        <b>//äº¤æ¢ä¸¤ä¸ªæ•°ï¼š</b>
        func exchange&lt;T&gt;(a:inout T, b:inout T) -> Void {

            let temp = a
            a = b
            b = temp
        }

        //ç±»å‹å‚æ•°:
        åœ¨ä¸Šé¢çš„æ³›å‹å‡½æ•°ä¾‹å­ä¸­ï¼Œå ä½ç¬¦Tæ˜¯ç±»å‹å‚æ•°çš„ä¸€ä¸ªä¾‹å­ï¼ŒTä»£è¡¨åªæ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚
        ç±»å‹å‚æ•°æŒ‡å®šå¹¶å‘½åä¸€ä¸ªå ä½ç¬¦ç±»å‹ï¼Œå¹¶ç”¨<>åŒ…è£¹ï¼Œæ”¾åœ¨å‡½æ•°ååé¢ã€‚
        åœ¨ç¼–è¯‘å™¨çš„æ—¶å€™å·²ç»ç¡®å®šå‚æ•°ç±»å‹

        <b>//æ•°ç»„æ³›å‹æ“ä½œ</b>
        public struct heap&lt;T&gt;{

            var items = [T]()

            mutating func push(element:T) -> Void {

                items.append(element)
            }
        }
        <b>//ç»™æ³›å‹ç±»å‹æ·»åŠ æ‰©å±•</b>
        extension heap{

            func topItem() -> T {

                return (items.isEmpty ? nil : items[items.count-1])!
            }
        }

        //æµ‹è¯•:
        var hp:heap = heap&lt;String&gt;()
        hp.push(element: "ssss")
        hp.push(element: "ddd")

        print(hp.topItem()) //è¾“å‡ºï¼šddd

        <b>//æ³›å‹ç±»å‹çº¦æŸ</b>
        //å®ä¾‹ï¼šæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªæ•°ï¼Œéµå¾ªäº†Equatableåè®®çš„å¯¹è±¡æ‰èƒ½ç”¨æ¥åˆ¤æ–­æ˜¯å¦ç›¸ç­‰
        func findIndex&lt;T:Equatable&gt;(arr:[T], t:T) -> Int? {

            for (index, value) in arr.enumerated(){

                if value == t{

                     return index
                }
            }

            return Optional.none
        }

        print(findIndex(arr: ["sss", "ddd", "ggg"], t: "ggg"))
        print(findIndex(arr: [1,2,3,4], t: 1))
        //è¾“å‡ºï¼š
        Optional(2)
        Optional(0)


         <b>//æ³›å‹çš„whereè¯­å¥</b>
        ç±»å‹çº¦æŸèƒ½å¤Ÿè®©æˆ‘ä»¬ä¸ºæ³›å‹ç±»å‹æ·»åŠ ä¸€äº›çº¦æŸå’Œæ¡ä»¶ã€‚ä¸ºå…³è”ç±»å‹æ·»åŠ ä¸€äº›çº¦æŸä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚
        å¯ä»¥åœ¨å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨whereå­å¥æ¥ä¸ºå…³è”ç±»å‹æ·»åŠ çº¦æŸã€‚

        ä¾‹å­:
        //MARK: -åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ä¸€æ¨¡ä¸€æ ·
        func same&lt;c1:container, c2:container&gt;(container:c1, anotherContainer:c2) -> Bool where c1.itemType == c2.itemType, c1.itemType:Equatable {

            guard container.count == anotherContainer.count else {

                return false
            }

            for i in 0...container.count-1 {

            //c1.itemType:Equatableä¿è¯æ˜¯å¯ä»¥æ¯”è¾ƒçš„
            if container[i] == anotherContainer[i]
            {
                return false

            }

            return true
        }

    </pre>

    <p class="contents" id="typealiasAndassociatedtype"><b>Swiftä¸­typealiasä¸associatedtypeçš„åŒºåˆ«</b></p>
    <pre>

        <b>1.typealias:</b>
            typealias æ˜¯ç”¨æ¥ä¸ºå·²ç»å­˜åœ¨çš„ç±»å‹é‡æ–°å®šä¹‰åå­—çš„ï¼Œé€šè¿‡å‘½åï¼Œå¯ä»¥ä½¿ä»£ç å˜å¾—æ›´åŠ æ¸…æ™°ã€‚
            ä½¿ç”¨çš„è¯­æ³•ä¹Ÿå¾ˆç®€å•ï¼Œä½¿ç”¨typealias å…³é”®å­—åƒä½¿ç”¨æ™®é€šçš„èµ‹å€¼è¯­å¥ä¸€æ ·ï¼Œå¯ä»¥å°†æŸä¸ªå·²ç»å­˜åœ¨çš„ç±»å‹èµ‹å€¼ä¸ºæ–°çš„åå­—ã€‚

            ä¾‹å­ï¼š
            typealiad Success:(_ model:XXModel) -> (void)

            typealias æ˜¯å•ä¸€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¿…é¡»æŒ‡å®šå°†æŸä¸ªç‰¹å®šçš„ç±»å‹é€šè¿‡typealiasèµ‹å€¼ä¸ºæ–°åå­—ï¼Œè€Œä¸èƒ½å°†æ•´ä¸ªæ³›å‹ç±»å‹è¿›è¡Œé‡å‘½åã€‚
            class Person&lt;T&gt; {}
            typealias Woker = Person
            typealias Worker&lt;T&gt; = Person&lt;T&gt;
            typealias Worker = Person&lt;WorkId&gt;

        <b>2.æŸä¸ªç±»å‹åŒæ—¶å®ç°å¤šä¸ªåè®®çš„ç»„åˆæ—¶ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&ç¬¦å·è¿æ¥å‡ ä¸ªåè®®ï¼Œç„¶åç»™å®ƒä»¬ä¸€ä¸ªæ–°çš„æ›´ç¬¦åˆä¸Šä¸‹æ–‡çš„åå­—ï¼Œæ¥å¢å¼ºä»£ç å¯è¯»æ€§:</b>
            ä¾‹å­ï¼š
            protocol Cat {}
            protocol Dog {}
            typealias Pat = Cat & Dog

            ä¾‹å­ï¼š
            public protocol p1 {

                <b>//åŸç”Ÿçš„ Swift protocol é‡Œæ²¡æœ‰å¯é€‰é¡¹ï¼Œæ‰€æœ‰å®šä¹‰çš„æ–¹æ³•éƒ½æ˜¯å¿…é¡»å®ç°çš„ã€‚</b>
                <b>//ç»™è‡ªå®šä¹‰çš„åè®®ä¸­æ·»åŠ extension,åœ¨extensionä¸­å¯¹å¯é€‰æ–¹æ³•è¿›è¡Œé»˜è®¤å®ç°,è¿™æ ·éµå®ˆåè®®çš„å¯¹è±¡å°±å¯ä»¥ä¸ç”¨å®ç°å¯é€‰æ–¹æ³•.</b>
                associatedtype itemType1

                var item1:String?{get}

                mutating func log1()
            }

            public protocol p2 {

                associatedtype itemType2

                var item2:String?{get}

                mutating func log2()
            }

            extension p1{

                var item1:String?{
                    return item1
                }
            }

            extension p2{

                var item2:String?{
                    return item2
                }
            }

            struct class2:p1&p2 { //æˆ–è€…p1,p2 ç”¨é€—å·åˆ†å¼€

                typealias itemType1 = String
                typealias itemType2 = String

                mutating func log1() {

                    print("log1")
                }

                mutating func log2() {

                    print("log2")
                }
            }

            //æµ‹è¯•ï¼š
            var cls2:class2 = class2()
            cls2.log1()
            cls2.log2()

            //è¾“å‡ºï¼š
            log1
            log2

        <b id="PATs">2.associatedtypeå…³è”ç±»å‹/Swiftä¸­çš„PATs:Protocols with Associated Typeså¸¦æœ‰å…³è”ç±»å‹çš„åè®®</b>
            å®šä¹‰ä¸€ä¸ªåè®®æ—¶ï¼Œæœ‰çš„æ—¶å€™å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªå…³è”ç±»å‹ä½œä¸ºåè®®å®šä¹‰çš„ä¸€éƒ¨åˆ†å°†ä¼šéå¸¸æœ‰ç”¨ã€‚å…³è”ç±»å‹ä¸ºåè®®ä¸­çš„æŸä¸ªç±»å‹æä¾›äº†ä¸€ä¸ªå ä½åï¼ˆæˆ–è€…è¯´åˆ«åï¼‰ï¼Œå…¶ä»£è¡¨çš„å®é™…ç±»å‹åœ¨åè®®è¢«é‡‡çº³æ—¶æ‰ä¼šè¢«æŒ‡å®šã€‚
            ä½ å¯ä»¥é€šè¿‡ associatedtype å…³é”®å­—æ¥æŒ‡å®šå…³è”ç±»å‹ã€‚
            å…³è”ç±»å‹ ä½¿å¾—swiftæ›´åŠ çš„é¢å‘åè®®

            ä¾‹å­ï¼š
            public protocol container {

                //å…³è”ç±»å‹ï¼šç”¨æ¥å£°æ˜ä¸€ä¸ªæŠ½è±¡çš„åè®® associatedtype
                associatedtype itemType //å£°æ˜ä¸€ä¸ªå…³è”ç±»å‹

                mutating func append(_ item:itemType)
                //åè®®éœ€è¦{get} {get set}
                var count:Int{get}
                subscript(i:Int) ->itemType {get}
            }

            //å®ç°è¯¥åè®®ï¼š
            struct genericStack&lt;T&gt; : container{

                //å®ç°container
                typealias itemType = T

                mutating func append(_ item: T) {

                    items.append(item)
                }

                var count: Int{

                    get{
                        return self.items.count
                    }
                }

                subscript(i: Int) -> T {

                    return items[i] as T
                }
            }


    </pre>

    <p class="contents" id="ArrayInSwift"><b>Swiftä¸­çš„æ•°ç»„</b></p>
    <pre>

        var threeInts:Array&lt;Int&gt; = Array&lt;Int&gt;(repeating: 3, count: 3)

        //+æ³•
        var sixInts:Array&lt;Int&gt; = threeInts+threeInts

        //å€¼
        sixInts.last
        sixInts.first
        //ä¸‹æ ‡
        sixInts.endIndex
        sixInts.startIndex
        sixInts[0]
        sixInts[0..<3] //subscript(_: Range&lt;Array&lt;Element&gt;.Index&gt;)
        //æ˜¯å¦ä¸ºç©º
        sixInts.isEmpty
        //æ•°é‡
        sixInts.count
        //æ·»åŠ 
        sixInts.append(7)
        sixInts.append(contentsOf: [1,2])
        sixInts += [10]
        sixInts.insert(20, at: 0)
        //åˆ é™¤
        sixInts.remove(at: 0)
        sixInts.removeFirst()
        sixInts.removeLast()
        sixInts.popLast()

        <b>//å…ƒç´ ç±»å‹ï¼š</b>
        type(of: arr[1])

        <b>//æ•°ç»„çš„æ‹·è´</b>
        var a = [1,2,3]
        var b = a

        print(getBufferAddress(of: a), getBufferAddress(of: b))
        print("a = \(a) b = \(b)")

        b += [4]

        print(getBufferAddress(of: a), getBufferAddress(of: b))
        print("a = \(a) b = \(b)")

        //è¾“å‡ºï¼š
        Optional(0x000060800026ad60) Optional(0x000060800026ad60)
        a = [1, 2, 3] b = [1, 2, 3]
        Optional(0x000060800026ad60) Optional(0x0000604000281bf0)
        a = [1, 2, 3] b = [1, 2, 3, 4]

        func getBufferAddress&lt;T&gt;(of array:[T]) -> String {

            //withUnsafeBufferPointeræ˜¯Arrayçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå¯ä»¥æŠŠä¿å­˜Arrayå†…å®¹çš„åœ°å€ï¼Œä¼ é€’ç»™å®ƒçš„closureå‚æ•°ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œï¼Œè¿™ä¸ªclosureåªæ˜¯æŠŠArrayçš„åœ°å€ï¼Œå˜æˆäº†ä¸€ä¸ªStringå¯¹è±¡ã€‚
            return array.withUnsafeBufferPointer({ (buffer)  in

                return String(describing: buffer.baseAddress)
             })
        }

        <b>//å¯è§ï¼Œæ•°ç»„çš„æ‹·è´åªåœ¨æ‹·è´çš„bèµ‹å€¼ä¹‹åæ‰ä¼šè¢«é‡æ–°åˆ†é…å†…å­˜åœ°å€ã€‚</b>

        <b>//æ•°ç»„çš„éå†ï¼š</b>
        arr.forEach { (element) in


        }

        for (index, value) in arr.enumerated(){


        }

        var iterator = arr.makeIterator()
        while let element = iterator.next(){
            print(element)
        }

        let array = arr.filter { (element) -> Bool in

            return element > 5
        }


        let arr1 = [[1,2,4],[1,2]].map { (element) -> [Int] in

            var ele:[Int] = [Int]()

            for a in element{

                guard a%2 == 0 else {continue}

                ele.append(a)
            }

            return ele
        }
        //arr1 = [[2, 4], [2]]

        let arr2 = [[1,2,4],[1,2]].flatMap { (element) -> [Int] in

            var ele:[Int] = [Int]()

            for a in element{

                guard a%2 == 0 else {continue}

                ele.append(a)
            }

            return ele
        }
        //arr2 = [1,2,4,1,2]

        let sum = [1,2,4].reduce(0) { (sum, element) -> Int in

            return sum+element
        }
        //ç®€åŒ–ï¼šlet sum = [1,2,4].reduce(0){$0+$1}
        //å†ç®€åŒ–ï¼šlet sum = [1,2,4].reduce(0, +)
        //7

        //arr2 = [2, 4, 2]


        <b id="arrFilter">//ç»™Arrayæ‰©å±•ä¸€ä¸ªè‡ªå®šä¹‰çš„è¿‡æ»¤å™¨</b>
        extension Array{

            func myFilter(_ predicate:(Element)->(Bool)) -> [Element] {

                var temp:[Element] = []

                for value in self where predicate(value) {

                    temp.append(value)
                }

                return temp
            }
        }

        //è°ƒç”¨ï¼š
        var arr = [1,2,4].myFilter { (element) -> (Bool) in

            return (element%2 == 0)
        }
        //arr = [2,4]

        <b id="arrMap">ç»™Arrayæ‰©å±•è‡ªå®šä¹‰map</b>
        extension Array{

            func myMap&lt;T&gt;(_ predicate:(Element)->T) -> [T] {

                var temp:[T] = [T]()

                for value in self {

                    let t:T = predicate(value)
                    temp.append(t)
                }

                return temp
            }
        }

        //æµ‹è¯•:
        let arr = [1,2,4].myMap { (element) -> Int in

            return element+10
        }
        //[11,12,14]

        <b id="dicFilter">//ç»™Dictionaryæ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨</b>
        extension Dictionary{

            func myFilter(_ predicate:(Element) ->(Bool)) ->[String:Any] {

                var kv:[String:Any] = [String:Any]()

                for value in self where predicate(value){

                    <b>å­—å…¸æ·»åŠ æ•°æ®</b>
                    kv.updateValue(value.value, forKey: value.key as! String)
                }

                return kv
            }
        }

        //æµ‹è¯•:
        var dic = ["1":1,"2":2].myFilter { (element) -> (Bool) in

            return element.value >= 2
        }
        //["2": 2]

        <b id="arrReduce">//ç»™Arrayæ·»åŠ è‡ªå®šä¹‰Reduce</b>
        extension Dictionary{

            func myReduce&lt;T&gt;(_ initial:T, _ next:(T,Element)->T) -> T {

                var temp = initial

                for value in self {

                    temp = next(temp, value)
                }

                return temp
            }
        }

        //æµ‹è¯•ï¼š
        let arr2 = [1,2,3,4].myReduce(0) { (sum, ele) -> Int in

            return sum+ele
        }
        //10

        <b id="dicReduce">//ç»™dicæ·»åŠ è‡ªå®šä¹‰Reduce</b>
        extension Dictionary{

            func myReduce&lt;T&gt;(_ initial:T, _ next:(T, Element)->T) -> T {

                var temp:T = initial

                for value in self{

                    temp = next(temp, value)
                }

                return temp
            }
        }

        //æµ‹è¯•ï¼š
        let arr2 = ["1":1, "2":2].myReduce(0) { (sum, ele) -> Int in

            return sum+ele
        }
        //3

        <b id="dicMap">//ç»™dicæ·»åŠ è‡ªå®šä¹‰map</b>
        extension Dictionary{

            func myMap&lt;T&gt;(_ predicate:(Element)->(T)) -> [String:T] {

                var temp:[String:T] = [String:T]()

                for value in self {

                    let t:T = predicate(value)
                    temp.updateValue(t, forKey: value.key as! String)
                }

                return temp
            }
        }

        //æµ‹è¯•ï¼š
        let dic = ["1":1,"2":2].myMap { (element) -> (Int) in

            return element.value+10
        }
        //["2": 12, "1": 11]

    </pre>
    
    <p class="smallTitle" id="swiftVersion"><b>åˆ¤æ–­Swiftç‰ˆæœ¬</b></p>
    <img src="../../../Source/swift/1.png">

    <p class="smallTitle" id="discardableResult"><b>ä½¿ç”¨@discardableResultæ¥å¿½ç•¥å‡½æ•°è¿”å›å€¼</b></p>
    <pre>
        extension ViewController{

            @discardableResult
            func sss() -> String {
                return "ssss"
            }
        }

        sss() //æ²¡æœ‰âš ï¸

        æˆ–è€…ä½¿ç”¨é€šé…ç¬¦ï¼š
        _ = sss()
    </pre>

    <p class="smallTitle" id="defer">Swiftä¸­çš„defer(å»¶è¿Ÿæ‰§è¡Œ)</p>
    <div class="contents">
        <p>
            Swiftä¸­çš„å¼‚å¸¸å¤„ç†try-catch-finallyï¼Œfinallyä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œï¼Œdeferä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè€Œä¸”æ›´åŠ æ–¹ä¾¿ã€‚
            ç®€å•æ¥è¯´ï¼Œdeferä¿®é¥°çš„ä»£ç å—éƒ½ä¼šåœ¨returnä¹‹å‰è°ƒç”¨ï¼Œä¹‹ä¸€å®åœ¨returnä¹‹å‰ï¼Œå†™åœ¨ä¹‹åå°±æ²¡ç”¨äº†ã€‚
        </p>
        <pre>
            <b>ä¾‹å­:</b>
                func foo() {
                    print("1")
                    defer {
                        print("6")
                    }
                    print("2")
                    defer {
                        print("5")
                    }
                    print("3")
                    defer {
                        print("4")
                    }
                }

            foo()

            //è¾“å‡º1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6
            //å¤šä¸ª defer çš„é¡ºåºæ˜¯åƒæ ˆä¸€æ ·å€’ç€æ‰§è¡Œçš„ï¼šæ¯é‡åˆ°ä¸€ä¸ª defer å°±åƒå‹è¿›ä¸€ä¸ªæ ˆé‡Œï¼Œåˆ°ç»“æŸçš„æ—¶å€™ï¼Œåè¿›æ ˆçš„å…ˆæ‰§è¡Œã€‚

            <b>å¸¸è§ä½¿ç”¨åœºåˆï¼š1.åœ¨è·å–åˆ°apiæ•°æ®çš„æ—¶å€™ï¼ŒåŠ è½½è§†å›¾çš„ç§»é™¤æ“ä½œå¯ä»¥å†™åœ¨è¿™é‡Œé¢ï¼›2.æ¸…é™¤å†…å­˜ç­‰ä¸€äº›é‡ç½®å·¥ä½œå¯ä»¥å†™åœ¨è¿™é‡Œé¢ï¼›
            </b>
        </pre>
    </div>


</div>

</body>
</html>